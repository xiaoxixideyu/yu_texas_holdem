<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>德州扑克 - 游戏</title>
  <link rel="stylesheet" href="/app.css" />
</head>
<body>
  <main class="container">
    <header class="header-row">
      <h1>♠ 游戏</h1>
      <div class="header-right">
        <div id="my-stack" class="my-stack-chip">筹码：-</div>
        <a href="/rooms.html">返回大厅</a>
      </div>
    </header>

    <section class="card" id="game-meta"></section>

    <section class="card">
      <h2>玩家</h2>
      <div id="players"></div>
    </section>

    <section class="card">
      <h2>操作</h2>
      <div class="action-grid">
        <button data-action="check">过牌</button>
        <button data-action="call">跟注 <span id="call-amount-label"></span></button>
        <button data-action="allin" class="btn-warning">梭哈</button>
        <button data-action="fold" class="btn-danger">弃牌</button>
      </div>
      <div class="bet-row" style="margin-top: 10px;">
        <input id="bet-amount" type="number" min="1" placeholder="下注金额" />
        <button data-action="bet" class="btn-warning">下注</button>
        <button data-action="raise" class="btn-warning">加注</button>
      </div>
      <details id="quick-chat-panel" class="quick-chat-panel" style="margin-top: 12px;">
        <summary class="quick-chat-summary">发送短句</summary>
        <div id="quick-chat-controls" class="quick-chat-controls">
          <select id="quick-chat-select" class="quick-chat-select" aria-label="快捷短句选择">
            <option value="">请选择短句</option>
          </select>
          <button id="quick-chat-send" type="button" class="btn-secondary">发送</button>
        </div>
        <p id="quick-chat-feedback" class="quick-chat-feedback" aria-live="polite"></p>
      </details>
      <div id="reveal-controls" class="actions" style="margin-top: 10px; display:none;">
        <button data-reveal="0" class="btn-secondary">不亮牌</button>
        <button data-reveal="1" class="btn-secondary">亮第一张</button>
        <button data-reveal="2" class="btn-secondary">亮第二张</button>
        <button data-reveal="3" class="btn-secondary">全亮</button>
      </div>
      <p id="reveal-hint" class="hint" style="display:none;margin-top:8px;">本局已结束，可选择亮牌数量。</p>
      <div class="actions" style="margin-top: 12px;">
        <button id="btn-start-game">开始游戏</button>
        <button id="btn-next-hand">下一局</button>
        <button id="btn-leave-room" class="btn-secondary">离开房间</button>
      </div>
      <p id="next-hand-hint" class="hint" style="display:none;margin-top:8px;">仅房主可在本局结束后开始下一局。</p>
      <p id="action-hint" class="hint" style="margin-top:8px;">游戏未开始，暂不可操作。</p>
    </section>

    <section class="card">
      <h2>本局记录</h2>
      <pre id="hand-log"></pre>
    </section>

    <section class="card">
      <h2>日志</h2>
      <pre id="log"></pre>
    </section>
  </main>
  <script src="/js/common.js"></script>
  <script src="/js/game.js"></script>
</body>
</html>
